<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Michiel Meeuwissen">
<title>Algebraic interfaces for Java</title>
<link rel="stylesheet" href="./index.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
<meta name="keywords" content="open source, documentation" />

<script src="https://cjrtnc.leaningtech.com/20250905_2725/loader.js"></script>
<link rel="stylesheet" href="resources/demo.css" />

<script src="resources/demo.js" type="module" ></script>
<script src="resources/calculator.js" type="module" ></script>
<script src="resources/dynamicdate.js" type="module" ></script>
<script src="resources/solver.js" type="module" ></script>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Algebraic interfaces for Java</h1>
<div class="details">
<span id="author" class="author">Michiel Meeuwissen</span><br>
<span id="email" class="email"><a href="mailto:michiel.meeuwissen@gmail.com">michiel.meeuwissen@gmail.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_quickstart">1. quickstart</a>
<ul class="sectlevel2">
<li><a href="#_statistics">1.1. statistics</a></li>
<li><a href="#_time">1.2. time</a></li>
<li><a href="#_theories">1.3. theories</a></li>
<li><a href="#_configuration">1.4. configuration</a></li>
</ul>
</li>
<li><a href="#_math">2. math</a>
<ul class="sectlevel2">
<li><a href="#_abstract_algebras">2.1. Abstract Algebras</a>
<ul class="sectlevel3">
<li><a href="#_algebraic_structure">2.1.1. Algebraic structure</a></li>
<li><a href="#_numbers">2.1.2. Numbers</a></li>
<li><a href="#_numbers_and_propagation_of_uncertainties">2.1.3. Numbers and propagation of uncertainties</a></li>
<li><a href="#_testing">2.1.4. Testing</a></li>
<li><a href="#_implementation_of_equalshashcode_and_eq">2.1.5. Implementation of <code>equals</code>/<code>hashCode</code> and <code>eq</code></a></li>
</ul>
</li>
<li><a href="#_formatting_and_configuration">2.2. Formatting and configuration</a>
<ul class="sectlevel3">
<li><a href="#_unicode">2.2.1. unicode</a></li>
</ul>
</li>
<li><a href="#_utilities">2.3. Utilities</a>
<ul class="sectlevel3">
<li><a href="#_cartesian_product_of_streams">2.3.1. Cartesian product of streams</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_time_2">3. time</a>
<ul class="sectlevel2">
<li><a href="#_clocks">3.1. Clocks</a>
<ul class="sectlevel3">
<li><a href="#_testclock">3.1.1. <code>TestClock</code></a></li>
<li><a href="#_uniqueclock">3.1.2. <code>UniqueClock</code></a></li>
</ul>
</li>
<li><a href="#_dynamic_date_time_parsing">3.2. Dynamic date time parsing</a>
<ul class="sectlevel3">
<li><a href="#_syntax">3.2.1. syntax</a></li>
<li><a href="#_demo">3.2.2. demo</a></li>
<li><a href="#_comparison_to_mmbase">3.2.3. Comparison to MMBase</a></li>
<li><a href="#_comparison_to_natty">3.2.4. Comparison to natty</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_statistics_2">4. statistics</a></li>
<li><a href="#_physics">5. physics</a></li>
<li><a href="#_algebra">6. algebra</a>
<ul class="sectlevel2">
<li><a href="#_features">6.1. Features</a>
<ul class="sectlevel3">
<li><a href="#_real_numbers">6.1.1. Real numbers</a></li>
<li><a href="#_arbitrary_precision_real_numbers">6.1.2. Arbitrary-precision real numbers</a></li>
<li><a href="#_rational_numbers">6.1.3. Rational numbers</a></li>
<li><a href="#_permutations">6.1.4. Permutations</a></li>
<li><a href="#_integers">6.1.5. Integers</a></li>
<li><a href="#_even_integers">6.1.6. Even integers</a></li>
<li><a href="#_natural_numbers">6.1.7. Natural numbers</a></li>
<li><a href="#_modulo_groups">6.1.8. Modulo groups</a></li>
<li><a href="#_complex_numbers">6.1.9. Complex numbers</a></li>
<li><a href="#_quaternions">6.1.10. Quaternions</a></li>
<li><a href="#_matrix_and_rotation_groups">6.1.11. Matrix and rotation groups</a></li>
<li><a href="#_strings">6.1.12. Strings</a></li>
<li><a href="#_vector_spaces">6.1.13. Vector spaces</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#shapes">7. Shapes</a></li>
<li><a href="#theories">8. Theory testing</a>
<ul class="sectlevel2">
<li><a href="#_non_math_related_theories">8.1. Non math related theories</a></li>
</ul>
</li>
<li><a href="#configuration_service">9. ConfigurationService</a></li>
<li><a href="#demo_section">10. Demo</a>
<ul class="sectlevel2">
<li><a href="#demo_calculator">10.1. Calculator</a></li>
<li><a href="#demo_solver">10.2. Solver</a></li>
<li><a href="#demo_dynamicdate">10.3. Dynamic date parsing</a></li>
</ul>
</li>
<li><a href="#_compatibility">11. Compatibility</a></li>
<li><a href="#_history">12. History</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://github.com/mihxil/math/actions/workflows/build.yml"><img src="https://github.com/mihxil/math/actions/workflows/build.yml/badge.svg?" alt="Build Status"></a></span>
<span class="image"><a class="image" href="https://codecov.io/gh/mihxil/math"><img src="https://codecov.io/gh/mihxil/math/branch/main/graph/badge.svg" alt="codecov"></a></span>
<span class="image"><a class="image" href="https://search.maven.org/search?q=g:%22org.meeuw.math%22"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-math.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.math"><img src="https://www.javadoc.io/badge/org.meeuw.math/mihxil-math.svg?color=blue" alt="javadoc"></a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quickstart">1. quickstart</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The core of this project is quite abstract and more or less theoretical. But here are some handy things in this.</p>
</div>
<div class="sect2">
<h3 id="_statistics">1.1. statistics</h3>
<div class="paragraph">
<p>add a quick example here</p>
</div>
</div>
<div class="sect2">
<h3 id="_time">1.2. time</h3>
<div class="paragraph">
<p>quick explanation of parsing/clocks</p>
</div>
</div>
<div class="sect2">
<h3 id="_theories">1.3. theories</h3>
<div class="paragraph">
<p>quick explanation of theories.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuration">1.4. configuration</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_math">2. math</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/artifact/org.meeuw.math/mihxil-math"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-math.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.math/mihxil-math"><img src="https://javadoc.io/badge/org.meeuw.math/mihxil-math.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p>The core dependency of the modules in the project. It provides the scaffolding for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Abstract algebra&#8217;s to ensure a common interface for basic operations. Java does not provide operator overloading. This provides an alternative. Implementations of these interfaces can be 'property-based' tested, to make sure that the implementation indeed adheres to the contracts.</p>
</li>
<li>
<p>An 'uncertain number' interface, plus an implementation of an algebraic field of uncertain numbers.</p>
</li>
<li>
<p>A Service Provider Interface for formatting the elements of abstract algebras.  This core module only provides an implementation to format  uncertain numbers, using proper rounding and scientific notation.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_abstract_algebras">2.1. Abstract Algebras</h3>
<div class="paragraph">
<p>The idea is that every 'abstract algebra' consists of the implementation of two interfaces</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>One of the extensions of  <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AlgebraicElement.java"><code>org.meeuw.math.abstractalgebra.AlgebraicElement</code></a> defines the properties of all elements of the algebra. It also should implement the actual operations like multiplication and addition.</p>
</li>
<li>
<p>One of the corresponding extensions of <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AlgebraicStructure.java"><code>org.meeuw.math.abstractalgebra.AlgebraicStructure</code></a>, e.g.  <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/Field.java"><code>org.meeuw.math.abstractalgebra.Field</code></a>,  defines properties of the structure itself, and it also serves as a container for utility method for its elements. E.g. if the structure is powerful enough to implement determinants of matrices of its elements, it does so (and more advanced structures, may do it more sophisticatedly. E.g. <code>Ring</code> implements <code>determinant</code> without using division, but in <code>DivisionRing</code> the implementation is optimized with use of that operation)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The terminology which is adopted is this:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Algebraic operation</th>
<th class="tableblock halign-left valign-top">operator</th>
<th class="tableblock halign-left valign-top">operator name</th>
<th class="tableblock halign-left valign-top">static operator name</th>
<th class="tableblock halign-left valign-top">result name</th>
<th class="tableblock halign-left valign-top">argument name</th>
<th class="tableblock halign-left valign-top">defined in</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="7"><p class="tableblock">binary operators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/MagmaElement.java"><code>MagmaElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">addition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">summand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AdditiveSemiGroupElement.java"><code>AdditiveSemiGroupElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtraction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtract</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">difference</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">subtrahend</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AdditiveGroupElement.java"><code>AdditiveGroupElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiplication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>⋅</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">times</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiply</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">product</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiplier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/MultiplicativeSemiGroupElement.java"><code>MultiplicativeSemiGroupElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">division</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dividedBy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">divide</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quotient</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">divisor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/MultiplicativeGroupElement.java"><code>MultiplicativeGroupElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exponentiation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">power</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">metric or distance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">distanceTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">metric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">distance</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/MetricSpaceElement.java"><code>MetricSpaceElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="7"><p class="tableblock">unary operators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">negation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">negation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">negate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">negation</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AdditiveGroupElement.java"><code>AdditiveGroupElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reciprocation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reciprocal</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">reciprocal</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/MultiplicativeGroupElement.java"><code>MultiplicativeGroupElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">square root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>√</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sqrt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sqrt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">square root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">radicand</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sin()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">angle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cosine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cos()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cosine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">angle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">absolute value, distance to zero</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">||</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">abs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">absolute value</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/MetricSpaceElement.java"><code>MetricSpaceElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">identify</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">self</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AlgebraicElement.java"><code>AlgebraicElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="7"><p class="tableblock">comparison operators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equality</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">object</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.lang.Object</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">loosely equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>≈</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">eq</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equality</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">other element</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/AlgebraicElement.java"><code>AlgebraicElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="7"><p class="tableblock">integer operators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><sup>n</sup>√x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n-th root</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">base</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">power</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x<sup>n</sup></code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">n-th power</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exponent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tetration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x↑↑n</code> <code><sup>n</sup>x</code></p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">height</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The methods on the elements take the name of the corresponding operator. So e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">RationalNumber a, b, c;
c = a.times(b);</code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods always take the value of the element itself plus zero parameters (for the unary operators) or one parameter (for the binary operators), and create a new value from the same algebra.</p>
</div>
<div class="paragraph">
<p>Alternative terminology, like e.g. 'add' for addition would have been possible, but it was chosen to use those verbs when the operation is e.g. implemented statically (<code>E add(e1, e2)</code>) or are modifying the element itself.</p>
</div>
<div class="paragraph">
<p>Most implementations are strictly read-only, but at least all algebraic operations themselves should be without side effects on the algebraic element itself.</p>
</div>
<div class="sect3">
<h4 id="_algebraic_structure">2.1.1. Algebraic structure</h4>
<div class="paragraph">
<p>Every algebraic element object has a reference to (the same)  instance of this structure. The structure itself defines e.g. the 'cardinality'.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If the cardinality is 'countable' (&lt; ℵ<sub>1</sub>), the structure can also implement  <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/Streamable.java"><code>Streamable</code></a> to actually produce all possible elements.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The algebraic structure also contains methods to obtain 'special elements' like the identity elements for multiplication and addition (<em>one</em> and <em>zero</em>).</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="./algebras.svg"><img src="./algebras.svg" alt="algebras"></a>
</div>
<div class="title">Figure 1. The defined algebraic structures, with indication of the operators (and whether they are commutative), special elements, and example implementations.</div>
</div>
</div>
<div class="sect3">
<h4 id="_numbers">2.1.2. Numbers</h4>
<div class="paragraph">
<p>Some algebraic elements are like real numbers. There are several interfaces dedicated to formalising properties of that.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">class/interface</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/numbers/Scalar.java"><code>Scalar</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A generic interface that defines the methods to convert to java (primitive) number objects. Like <code>doubleValue()</code> and <code>intValue()</code>. It extends a few interfaces for some properties which can be applied to other structures to, like <code>Sizeable</code> and <code>SignedNumber</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/ScalarFieldElement.java"><code>ScalarFieldElement</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>Scalar</code> that is also a <code>FieldElement</code>. So this is the link from number to algebra. Well-behaved field elements that also behave as a 'Number' may implement <code>ScalarFieldElement</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/CompleteFieldElement.java"><code>CompleteFieldElement</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Even more similar to the everyday concept of a number are elements of an algebraic field that is 'complete'.  This in some way means that is has 'no gaps', but essentially boils down to the fact that operations like taking square roots and trigonometric function are possible within the algebra.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/numbers/NumberOperations.java"><code>NumberOperations</code></a>
<a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/numbers/UncertaintyNumberOperations.java"><code>UncertaintyNumberOperations</code></a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number like structures are backed by existing classes  <code>BigDecimal</code> and <code>Double</code>. These lack a common interface. Implementations of this class wrap these things with a common interface to all needed operations.
. E.g. it may use <code>BigDecimalMath</code> for <code>BigDecimal</code> and <code>Math#log</code> for <code>Double</code>.</p>
<p class="tableblock">The specialization <code>UncertaintyNumberOperations</code> adds the logic for propagation of uncertainties.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_numbers_and_propagation_of_uncertainties">2.1.3. Numbers and propagation of uncertainties</h4>
<div class="paragraph">
<p>Most real numbers cannot be represented exactly. It may be of interest to keep track of the uncertainty in the value, and try to propagate those uncertainties sensibly when performing operations on them.</p>
</div>
<div class="paragraph">
<p>The 'physics' module will add to this that these kinds of uncertainties may originate not only in the finite nature of representing them, but also in the limitations of actually <em>measuring</em> things.</p>
</div>
<div class="paragraph">
<p>The 'statistics' module introduces uncertain numbers where the uncertainty is defined as the standard deviation in a collected set of values. These numbers are examples of elements that are actually stateful, because new values can be added to the set. This should not actually change the <em>value</em> represented by  the object though, only decrease its <em>uncertainty</em>. On performing operations on these kinds of objects you would receive unmodifiable stateless objects with frozen value and uncertainty.</p>
</div>
<div class="paragraph">
<p>It is not always absolutely defined how propagations must happen. Some interpretation may be needed sometimes. The choices made are currently collected in `UncertaintyNumberOperations'.  This is not currently pluggable or configurable, but it may well be.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">operation</th>
<th class="tableblock halign-left valign-top">formula</th>
<th class="tableblock halign-left valign-top">current uncertainty propagation algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">summation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(a ± Δa + b ± Δb\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(\sqrt{Δa^2 + Δb^2}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">multiplication</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(a ± Δa \cdot b ± Δb\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(\mid a \cdot b \mid \cdot \sqrt{\left(\frac{Δa}{\mid a \mid + Δa }\right)^2 + \left(\frac{Δb}{\mid b \mid + Δb }\right)^2}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">exponentiation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(\left(a ± Δa\right) ^ {e ± Δe}\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(\mid a ^ e\mid \cdot
\sqrt{
  \left(\frac{e \cdot Δa}{a}\right)^2 +
  \left(\ln(a) \cdot Δe\right)^2
}\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sin/cos</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(\sin(\alpha \pm \Delta\alpha)\)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\(\Delta\alpha\)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_zero">Zero</h5>
<div class="paragraph">
<p>Sometimes the value with uncertainty is exactly <em>zero</em>, so fractional uncertainty leads to division by zero exceptions. Therefore, for now fractional uncertainty is implemented like \( \frac{Δa}{|a| +  Δa}\) (rather then \( \frac{Δa}{|a|}\)), where the denominator can never become zero because the uncertainty is strictly bigger than zero.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_testing">2.1.4. Testing</h4>
<div class="paragraph">
<p>In <a href="https://github.com/mihxil/math//mihxil-theories">mihxil-theories</a> for every algebraic structure interface there are 'theory' interfaces using <a href="https://jqwik.net/">jqwik</a>. Tests for actual implementations implement these interfaces and provide the code to supply a bunch of example <a href="https://github.com/mihxil/math/blob/main/mihxil-theories/src/main/java/test/ElementTheory.java#L20"><code>elements</code></a>.</p>
</div>
<div class="paragraph">
<p>Default methods then test whether all theoretical possibilities and limitations of the algebraic structure are indeed working.</p>
</div>
</div>
<div class="sect3">
<h4 id="_implementation_of_equalshashcode_and_eq">2.1.5. Implementation of <code>equals</code>/<code>hashCode</code> and <code>eq</code></h4>
<div class="paragraph">
<p>When a value has uncertainty, then <code>equals</code> could consider it. So objects may e.g. have different <code>toString</code> representation but still be equal, because the difference is considered smaller than the uncertainty, and so can be considered equal.</p>
</div>
<div class="paragraph">
<p>This is abstracted using a <code>ConfidenceInterval</code> concept.</p>
</div>
<div class="paragraph">
<p>In this case the <code>hashCode</code> must be a fixed value, because otherwise we can&#8217;t guarantee that equal values have equal hashCode.</p>
</div>
<div class="paragraph">
<p>This implies that it&#8217;s a bad idea to use uncertain values as hash keys.</p>
</div>
<div class="sect4">
<h5 id="_transitivity_of_equality">Transitivity of equality</h5>
<div class="paragraph">
<p>Java - and also mathematics - normally requires that the equality operator (&#8216;=&#8217;) is transitive.</p>
</div>
<div class="paragraph">
<p>For several of the objects (the <code>Uncertain</code> ones) this represents a problem, because on one hand it is expected that things like <code>(x<sup>-1</sup>)<sup>-1</sup> = x</code>, and on the other hand transitivity of equals is desired (<code>x = y ∧ y = z → x = z</code>).</p>
</div>
<div class="paragraph">
<p>Therefore, the elements of algebra&#8217;s have several methods for equality</p>
</div>
</div>
<div class="sect4">
<h5 id="_eq">eq</h5>
<div class="paragraph">
<p>This is the most used equality in algebras. For uncertain valued algebras this <em>may not be transitive</em>,  because the uncertainty is considered.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>E.g. `10 ± 5 eq 14 ± 1` and `18 ± 5 eq 14 ± 1`, but `! (10 ± 5 eq  18 ± 5 )`.</pre>
</div>
</div>
<div class="paragraph">
<p>For non-uncertain values, <code>eq</code> would behave the same as <code>equals</code>, the only difference being that its argument is not <code>Object</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_strictlyequals">strictlyEquals</h5>
<div class="paragraph">
<p>If the value is <code>Uncertain</code> then it also implements a method <code>strictlyEquals</code> which just compares the value without considering uncertainty. This guarantees transitivity, but e.g. reciprocity of inverse operator may not be, since e.g. because of rounding errors  <code>`(x<sup>-1</sup>)<sup>-1</sup> !strictlyEquals  x</code>,</p>
</div>
</div>
<div class="sect4">
<h5 id="_equals">equals</h5>
<div class="paragraph">
<p>Java&#8217;s <code>equals</code> method is implemented with <code>strictlyEquals</code> or with <code>eq</code> if the value is not uncertain (<code>strictlyEquals</code> is not available, and it would make no difference).</p>
</div>
<div class="paragraph">
<p>Via the <code>CompareConfiguration</code> configuration aspect, it can be configured though, that <code>equals</code> is like <code>eq</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"> withAspect(CompareConfiguration.class, compareConfiguration -&gt; compareConfiguration.withEqualsIsStrict(<span class="predefined-constant">false</span>), () -&gt; {
     <span class="comment">/// here equals behave like eq</span>
 }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This common case can also be accessed more concisely:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">CompareConfiguration.withLooseEquals(() -&gt; {
    <span class="comment">// code here</span>
});</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_formatting_and_configuration">2.2. Formatting and configuration</h3>
<div class="paragraph">
<p>A service loader is provided for implementations of <code>AlgebraicElementFormatProvider</code> which can create instances of <code>java.text.Format</code> which in turn can be used to convert algebraic elements to a string. <code>#toString</code> can be based on it.</p>
</div>
<div class="paragraph">
<p>The formatters have access to a (thread local) configuration object (see <a href="#configuration_service">ConfigurationService</a>). Like this a consistent way is available to configure how e.g., uncertainties must be represented. Currently, this configuration object can only be filled by code. The base configuration object in itself is empty, but the available `AlgebraicElementFormatProvider`s  communicate the 'configuration aspects' which it can use.</p>
</div>
<div class="paragraph">
<p>The service giving access to the format-providers is <code>FormatService</code>. This is a collection of static functions.</p>
</div>
<div class="sect3">
<h4 id="_unicode">2.2.1. unicode</h4>
<div class="paragraph">
<p>Formatting normally happens using Unicode if possible. So if it is common in mathematics or physics to use superscripts, subscripts, greek letters or other special symbols, then this will be done as good as possible using just Unicode characters and modifiers.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_utilities">2.3. Utilities</h3>
<div class="paragraph">
<p>To implement several aspects of the groups there are provided some utility class. We describe here a few which might be of particular interest.</p>
</div>
<div class="sect3">
<h4 id="_cartesian_product_of_streams">2.3.1. Cartesian product of streams</h4>
<div class="paragraph">
<p>All countable, <code>Streamable</code> algebras need to implement a stream providing <em>all</em> elements. This is not always trivial. It may require producing all combinations of all elements of two or more underlying streams of objects.</p>
</div>
<div class="paragraph">
<p>For finite streams, this is more or less trivial. For <em>infinite</em> streams, this is a bit more interesting.</p>
</div>
<div class="sect4">
<h5 id="_generic">Generic</h5>
<div class="paragraph">
<p><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/streams/StreamUtils.java"><code>StreamUtils</code></a> provides several utilities related to streams.</p>
</div>
<div class="paragraph">
<p>The most generic implementation requires for every axis a supplier for the stream, which will be used every time the first value of the stream is needed again.</p>
</div>
<div class="paragraph">
<p>This implementation then only advances streams, and needs no state otherwise.</p>
</div>
<div class="videoblock">
<div class="title">All combinations of 2 streams of positive integers.</div>
<div class="content">
<video src="./positive-plane.mp4" width="400" height="400" controls loop preload="none">
Your browser does not support the video tag.
</video>
</div>
</div>
<div class="videoblock">
<div class="title">All combinations of 3 streams of positive integers.</div>
<div class="content">
<iframe width="400" height="400" src="https://www.youtube.com/embed/C0uaFTHoMVQ?rel=0&amp;loop=1&amp;playlist=C0uaFTHoMVQ" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_diagonals">Diagonals</h5>
<div class="paragraph">
<p>The 2-dimensional plane of integers traditionally can be filled by tracking <em>diagonals</em>.  <code>StreamUtils</code> provides an implementation of that too. It is harder to generalize this to more dimensions, and also it requires that streams can be tracked reversely.</p>
</div>
<div class="videoblock">
<div class="title">All combinations of 2 streams of positive integers (diagonals)</div>
<div class="content">
<video src="./diagonals-positive-plane.mp4" width="400" height="400" controls loop preload="none">
Your browser does not support the video tag.
</video>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_time_2">3. time</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/artifact/org.meeuw/mihxil-time"><img src="https://img.shields.io/maven-central/v/org.meeuw/mihxil-time.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw/mihxil-time"><img src="https://www.javadoc.io/badge/org.meeuw/mihxil-time.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p>This collects some utility related to time (actually to Durations and Instants). The main purpose is to provide a way to represent uncertain values of time, but it also provides some utilities for working with <code>Clock</code>.</p>
</div>
<div class="sect2">
<h3 id="_clocks">3.1. Clocks</h3>
<div class="paragraph">
<p>Because some uncertain values may be related to event rates, you may also need some things related to clocks. Especially, in test cases.</p>
</div>
<div class="sect3">
<h4 id="_testclock">3.1.1. <code>TestClock</code></h4>
<div class="paragraph">
<p>A clock which must be manually 'ticked'. This  is mainly useful for testing purposes.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uniqueclock">3.1.2. <code>UniqueClock</code></h4>
<div class="paragraph">
<p>A clock for which each call is guaranteed to result an Instant strictly after all previous calls. This can be used in tests, but also in production code, for example to ensure that events are always uniquely ordered.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dynamic_date_time_parsing">3.2. Dynamic date time parsing</h3>
<div class="paragraph">
<p>Can be found in <code>DynamicDateTime</code>. E.g. parse things like 'tomorrow' to actual time instances. This is based on <a href="https://github.com/mmbase/mmbase/blob/MMBase-1_9/core/src/main/javacc/org/mmbase/util/dateparser/DateParser.jj">old MMBase code</a>. It is a <a href="https://javacc.org">javacc-grammar</a>. I modernized it to be fully based on <code>java.time</code> classes, and also incorporate the 'event searchers' I added to <a href="https://natty-parser.github.io">natty</a>.</p>
</div>
<div class="sect3">
<h4 id="_syntax">3.2.1. syntax</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This section is work in progress</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The most basic idea is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>&lt;base time&gt;] [modifications]*</code></pre>
</div>
</div>
<div class="paragraph">
<p>So, it starts with specifying some absolute time, which can be dynamic (refer to the current clock).</p>
</div>
<div class="paragraph">
<p>If no &lt;base time&gt; is specified, that implies 'now'.</p>
</div>
<div class="paragraph">
<p>Like so</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Output</th>
<th class="tableblock halign-left valign-top">remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">now</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020-02-20T20:20+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020-02-20T20:20+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'now' is the default, so the empty string is valid too.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1973-03-05T06:00</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1973-03-05T06:00+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">just state it in ISO foramt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1973-03-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1973-03-05T00:00+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">time is optional</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Then zero or more 'modifications' or 'offset' can be given. Most basically with + and -.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Output</th>
<th class="tableblock halign-left valign-top">remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">now + 5 minute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020-02-20T20:25+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-05T20:00 + 1 minute - 2 days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-03T20:01+02:00[Europe/Amsterdam</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">next week</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-03T20:01+02:00[Europe/Amsterdam</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The offset can also be something like 'this month', 'this day', or 'today', which basically arranges rounding</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Input</th>
<th class="tableblock halign-left valign-top">Output</th>
<th class="tableblock halign-left valign-top">remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">now this day</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020-02-20T20:25+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-05T20:00 + 1 minute - 2 days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-03T20:01+02:00[Europe/Amsterdam</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There are also ways to set offsets which are not implicitely positive or negate. They just jump to some relevant time of some current period.</p>
</div>
<div class="paragraph">
<p>The offset can also be something like 'this month', 'this day', or 'today', which basically arranges rounding</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">remarks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2025-08-30T12:00 teatime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2020-02-20T20:25+01:00[Europe/Amsterdam]</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-05T20:00 + 1 minute - 2 days</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2021-08-03T20:01+02:00[Europe/Amsterdam</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Finally, then entire thing can be post fixed and prefixed by an explicit timezone.</p>
</div>
</div>
<div class="sect3">
<h4 id="_demo">3.2.2. demo</h4>
<form id="dynamicdate" class="demo">
  <label for="dynamicdate_toparse">String to parse:</label> <input type="text" id="dynamicdate_toparse"  list="dynamicdate_toparse-examples" value="" />
   <datalist id="dynamicdate_toparse-examples">
    <option value="0"></option>
    <option value="10000"></option>
    <option value="-10000"></option>
    <option value="+1000"></option>
    <option value="1973-05-03"></option>
    <option value="2006-05-09"></option>
    <option value="-3-12-25"></option>
    <option value="2000-01-01 16:00"></option>
    <option value="TZUTC 2001-01-01 16:00"></option>
    <option value="today 12:34:56.789"></option>
    <option value="now"></option>
    <option value="today"></option>
    <option value="tomorrow"></option>
    <option value="now + 10 minute"></option>
    <option value="today + 5 day"></option>
    <option value="now this year"></option>
    <option value="next august"></option>
    <option value="today + 6 month next august"></option>
    <option value="tomonth"></option>
    <option value="borreltijd"></option>
    <option value="today + 5 dayish"></option>
    <option value="yesteryear"></option>
    <option value="mondayish"></option>
    <option value="duration + 5 minute"></option>
    <option value="duration + 100 year"></option>
    <option value="TZUTC today noon"></option>
    <option value="TZEurope/Amsterdam today noon"></option>
    <option value="TZUTC today"></option>
    <option value="TZEurope/Amsterdam today"></option>
    <option value="TZ UTC today noon"></option>
    <option value="TZ Europe/Amsterdam today noon"></option>
    <option value="TZ UTC today"></option>
    <option value="TZ Europe/Amsterdam today"></option>
    <option value="TZ Europe/Amsterdam -1000"></option>
    <option value="today 6 oclock"></option>
    <option value="today 23 oclock"></option>
    <option value="today 43 oclock"></option>
    <option value="tosecond"></option>
    <option value="tominute"></option>
    <option value="tohour"></option>
    <option value="today"></option>
    <option value="previous monday"></option>
    <option value="tomonth"></option>
    <option value="toyear"></option>
    <option value="tocentury"></option>
    <option value="tocentury_pedantic"></option>
    <option value="toera"></option>
    <option value="toweek"></option>
    <option value="now this second"></option>
    <option value="now this minute"></option>
    <option value="now this hour"></option>
    <option value="now this day"></option>
    <option value="today previous monday"></option>
    <option value="now this month"></option>
    <option value="now this year"></option>
    <option value="now this century"></option>
    <option value="now this era"></option>
    <option value="now - 15 year this century"></option>
    <option value="now - 20 year this century_pedantic"></option>
    <option value="today + 2 century"></option>
    <option value="toera - 1 minute"></option>
    <option value="this july"></option>
    <option value="previous july"></option>
    <option value="next july"></option>
    <option value="this sunday"></option>
    <option value="previous sunday"></option>
    <option value="next sunday"></option>
    <option value="2009-W01-01"></option>
    <option value="2009-W53-7"></option>
    <option value="2006-123"></option>
    <option value="2005-01-01 this monday"></option>
    <option value="next year"></option>
    <option value="&quot;spring&quot;"></option>
    <option value="next year &quot;spring&quot;"></option>
    <option value="&quot;easter sunday&quot;"></option>
   </datalist>
   <br />
  <output id="dynamicdate_output" for="dynamicdate_toparse"> </output>
  <br />
  <button name="submit">go!</button>
</form>
<details>
<summary class="title">javascript</summary>
<div class="content">
<div class="paragraph">
<p>This is the source code for the above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">async onSubmit(DynamicDateTime){
    <span class="keyword">try</span> {
        const parser = await <span class="keyword">new</span> DynamicDateTime();
        const parseResult = await parser.applyWithException(<span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">#dynamicdate_toparse</span><span class="delimiter">&quot;</span></span>).value);
        <span class="local-variable">this</span>.output.value = await parseResult.toString();
    } <span class="keyword">catch</span> (error) {
        console.log(error);
    }

}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect3">
<h4 id="_comparison_to_mmbase">3.2.3. Comparison to MMBase</h4>
<div class="paragraph">
<p>The parser in MMBase was actually implemented as an extension of <code>java.util.Date</code> itself (<code>org.mmbase.util.DynamicDate</code>), and was in that aspect simpler. But it was not a very good citizen because of that, because the actually value of the date could be 'dynamic', and sometimes that required some explicit conversion to a normal <code>java.util.Date</code> object. Turns out that date object can&#8217;t be extended very well.</p>
</div>
<div class="paragraph">
<p>So, this idea was dropped. The parser was taken as is but, it was converted to parse to <code>java.time.ZonedDateTime</code> instead of <code>java.util.Date</code>, also a wrapper class was added <code>DynamicDateTime</code>, which can contain a bit of configuration for the parsing (like the <code>Clock</code> to use).</p>
</div>
<div class="paragraph">
<p>Also, inspired by natty, the 'event searchers' are added so the parser can also support holidays and other events like 'next spring'.</p>
</div>
</div>
<div class="sect3">
<h4 id="_comparison_to_natty">3.2.4. Comparison to natty</h4>
<div class="paragraph">
<p>I always thought that for the use cases I saw natty was not a very good fit, and my own, old, mmbase utility was nicer.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>natty parses entire sentences, and tries to find all date-like strings in it, therefore, also it returns a complicated DateGroup object as a parse result</p>
</li>
<li>
<p>DynamicDateTime always parses to one ZonedDateTime, or gives an exeption</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The idea is that this can be used in configurations or requests that are dependent on the current time. E.g., 'give me all objects created between 2 weeks ago' and 'now'.  Using the parser, it can support this for you. It&#8217;ll parse ISO dates, but also 'now' and similar things.</p>
</div>
<div class="paragraph">
<p>TODO: add more documentation</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_statistics_2">4. statistics</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/artifact/org.meeuw.math/mihxil-statistics"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-statistics.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.math/mihxil-statistics"><img src="https://www.javadoc.io/badge/org.meeuw.math/mihxil-statistics.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p>Implementations of <code>DoubleElement</code>, which are based on calculating standard deviations on sets of incoming data, and use that as the uncertainty value.</p>
</div>
<div class="paragraph">
<p>Also, it includes some classes to keep track of 'sliding window' values of averages.</p>
</div>
<div class="listingblock">
<div class="title">example of WindowedEventRate</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">WindowedEventRate rate = WindowedEventRate.builder()
            .bucketCount(<span class="integer">50</span>)
            .window(<span class="predefined-type">Duration</span>.ofMinutes(<span class="integer">50</span>))
            .build();
rate.newEvent();
...
..
log.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Measured rate: {} /s</span><span class="delimiter">&quot;</span></span>,  rate.getRate(<span class="predefined-type">TimeUnit</span>.SECONDS) + <span class="string"><span class="delimiter">&quot;</span><span class="content"> #/s</span><span class="delimiter">&quot;</span></span>);

log.info(<span class="string"><span class="delimiter">&quot;</span><span class="content">Measured rate: {}</span><span class="delimiter">&quot;</span></span>, rate); <span class="comment">// toString</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">another example of WindowedEventRate</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.meeuw.configuration.ConfigurationService</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.Interval</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.text.configuration.UncertaintyConfiguration</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.time.TestClock</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.reals.RealNumber</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.theories.abstractalgebra.UncertainDoubleTheory</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.assertj.core.api.Assertions.assertThat</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.assertj.core.data.Percentage.withPercentage</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.math.text.configuration.UncertaintyConfiguration.Notation.PARENTHESES</span>;



...

ConfigurationService.withAspect(UncertaintyConfiguration.class, e -&gt; e.withNotation(PARENTHESES),
    () -&gt; {
        TestClock clock = <span class="keyword">new</span> TestClock();
        <span class="keyword">try</span> (WindowedEventRate rate = WindowedEventRate.builder()
            .window(<span class="predefined-type">Duration</span>.ofSeconds(<span class="integer">100</span>))
            .bucketCount(<span class="integer">10</span>)
            .clock(clock)
            .build()) {
            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; <span class="integer">100</span>; i++) {
                rate.accept(<span class="integer">5</span> + (i % <span class="integer">3</span>));
                clock.tick();
            }
            clock.tick(<span class="integer">50</span>);
            assertThat(rate.isWarmingUp()).isFalse();
            assertThat(rate.getRate()).isEqualTo(<span class="float">5.930038867295947</span>);
            assertThat(rate.toString()).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">5.9(1.8) /s</span><span class="delimiter">&quot;</span></span>);
        }
    });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_physics">5. physics</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/artifact/org.meeuw.math/mihxil-physics"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-physics.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.math/mihxil-physics"><img src="https://www.javadoc.io/badge/org.meeuw.math/mihxil-physics.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p>This module involves mostly around <code>PhysicalNumber</code> and its derivatives. A <code>PhysicalNumber</code> is a <code>DoubleElement</code>, but the uncertainty is stated (it is a <code>Measurement</code>), and knows how to propagate those uncertainties when doing algebraic operations.</p>
</div>
<div class="paragraph">
<p>Also, a <code>PhysicalNumber</code> can be assigned <code>Units</code>. This can be used for proper displaying the value, and for dimensional analysis.</p>
</div>
<div class="listingblock">
<div class="title">Example code for how measurements work</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.physics.Measurement.measurement</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.physics.SI.DecimalPrefix.k</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.physics.SI.DecimalPrefix.none</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.physics.SI</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.physics.SIUnit.kg</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.physics.SIUnit.m</span>;

...
PhysicalNumber twoLightYear = <span class="keyword">new</span> Measurement(<span class="integer">2</span>, <span class="float">0.1</span>, ly);        <span class="comment">//</span>
PhysicalNumber oneParsec = measurement(<span class="integer">1</span>, <span class="float">0.1</span>, pc); <span class="comment">// using the static import as a shortcut</span>

assertThat(twoLightYear.plus(oneParsec).toString()).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">5.3 ± 0.4 ly</span><span class="delimiter">&quot;</span></span>);
assertThat(oneParsec.plus(twoLightYear).toString()).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">1.61 ± 0.13 pc</span><span class="delimiter">&quot;</span></span>);
assertThat(oneParsec.plus(twoLightYear).eq(twoLightYear.plus(oneParsec))).isTrue(); <span class="comment">//different toString does not mean that they represent a different value</span>
log.info(twoLightYear + <span class="string"><span class="delimiter">&quot;</span><span class="content">+</span><span class="delimiter">&quot;</span></span> + oneParsec + <span class="string"><span class="delimiter">&quot;</span><span class="content">=</span><span class="delimiter">&quot;</span></span> + twoLightYear.plus(oneParsec));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Physical numbers themselves are actually only forming a multiplicative group, because they cannot be added without constraints. In this example they can only be added to each other because both values have the same dimensions (both are about distance).</p>
</div>
<div class="paragraph">
<p>Physical numbers can freely be multiplied and divided by each other.</p>
</div>
<div class="paragraph">
<p>Objects of the statistic module can be converted to 'physical numbers' like so:</p>
</div>
<div class="listingblock">
<div class="title">event rate to measurement</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">WindowedEventRate rate = ...

PhysicalNumber measurement = <span class="keyword">new</span> Measurement(rate);
PhysicalNumber rateInHours = measurement.toUnits(Units.of(SI.hour).reciprocal());</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">statistical number to measurement</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"> StatisticalDouble statisticalDouble = <span class="keyword">new</span> StatisticalDouble();
 statisticalDouble.enter(<span class="float">10d</span>, <span class="float">11d</span>, <span class="float">9d</span>);

 PhysicalNumber measurement = <span class="keyword">new</span> Measurement(statisticalDouble, Units.of(SI.min));

 assertThat(measurement.toUnits(Units.of(SIUnit.s)).toString()).isEqualTo(<span class="string"><span class="delimiter">&quot;</span><span class="content">600 ± 45 s</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_algebra">6. algebra</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/search?q=g:%22org.meeuw.math%22"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-algebra.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://javadoc.io/doc/org.meeuw.math/mihxil-algebra"><img src="https://javadoc.io/badge/org.meeuw.math/mihxil-algebra.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p>This contains various implementations of the algebraic structure interfaces of <code>mihxil-math</code>. Like <code>RationalNumber</code> (modelling of rational numbers ℚ), and the rotation group SO(3).</p>
</div>
<div class="sect2">
<h3 id="_features">6.1. Features</h3>
<div class="sect3">
<h4 id="_real_numbers">6.1.1. Real numbers</h4>
<div class="paragraph">
<p>The field of real numbers. Backed by java primitive <code>double</code>. A <code>RealNumber</code> is also 'uncertain', which is used to keep track of rounding errors.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element  <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/reals/RealNumber.java"><code>RealNumber</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/reals/RealField.java"><code>RealField</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_arbitrary_precision_real_numbers">6.1.2. Arbitrary-precision real numbers</h4>
<div class="paragraph">
<p>The field of reals numbers, but backed by java&#8217;s <code>BigDecimal</code>. This means that it supports arbitrary precision, but, since this still
is not <em>exact</em> this still is uncertain, and rounding errors are propagated.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/reals/BigDecimalElement.java"><code>BigDecimalElement</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/reals/BigDecimalField.java"><code>BigDecimalField</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_rational_numbers">6.1.3. Rational numbers</h4>
<div class="paragraph">
<p>The field of rational numbers. Implemented using two arbitrary sized <code>BigIntegers</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/rationalnumbers/RationalNumber.java"><code>RationalNumber</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/rationalnumbers/RationalNumbers.java"><code>RationalNumbers</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Also, since division is exact in this field, this does <em>not</em> implement <code>UncertainNumber</code>.</p>
</div>
<div class="paragraph">
<p>The cardinality is countable (ℵ<sub>0</sub>) so this <em>does</em> implement <code>Streamable</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_permutations">6.1.4. Permutations</h4>
<div class="paragraph">
<p>The permutation group. An example of a non-abelian finite group.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/permutations/Permutation.java"><code>Permutation</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/permutations/PermutationGroup.java"><code>PermutationGroup</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is group is finite, so streamable. This means that the group also contains an implementation of 'all permutations' (this is non-trivial, it&#8217;s using Knuth&#8217;s algorithm).</p>
</div>
<div class="paragraph">
<p>The permutation elements themselves are implemented as a <code>java.util.function.UnaryOperator</code> on <code>Object[]</code> which then performs the actual permutation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_integers">6.1.5. Integers</h4>
<div class="paragraph">
<p>The most basic algebraic structure which can be created from integers are the integers (ℤ) themselves. They form a ring:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/IntegerElement.java"><code>IntegerElement</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/Integers.java"><code>Integers</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_even_integers">6.1.6. Even integers</h4>
<div class="paragraph">
<p>As an example of a 'rng' (a ring without the existence of the multiplicative identity 1), the even integers can serve</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/EvenIntegerElement.java"><code>EvenIntegerElement</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/EvenIntegers.java"><code>EvenIntegers</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_natural_numbers">6.1.7. Natural numbers</h4>
<div class="paragraph">
<p>In the natural numbers ℕ (the non-negative integers), there can be no subtraction. So they only form a 'monoid' (both additive and multiplicative).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/NaturalNumber.java"><code>NaturalNumber</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/NaturalNumbers.java"><code>NaturalNumbers</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_modulo_groups">6.1.8. Modulo groups</h4>
<div class="paragraph">
<p>Integers can be simply restricted via modulo arithmetic to form a finite ring:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/ModuloRingElement.java"><code>ModuloRingElement</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/ModuloRing.java"><code>ModuloRing</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the 'divisor' is a prime, then they even form a field, because the reciprocal can be defined:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/ModuloFieldElement.java"><code>ModuleFieldElement</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/integers/ModuloField.java"><code>ModuloField</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_complex_numbers">6.1.9. Complex numbers</h4>
<div class="paragraph">
<p>Another well-known field is the field of complex numbers.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/complex/ComplexNumber.java"><code>ComplexNumber</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/complex/ComplexNumbers.java"><code>ComplexNumbers</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_quaternions">6.1.10. Quaternions</h4>
<div class="paragraph">
<p>Quaternions are forming a 'non-commutative' field, a <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/DivisionRing.java">DivisionRing</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/quaternions/Quaternion.java"><code>Quaternion</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/quaternions/Quaternions.java"><code>Quaternions</code></a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_matrix_and_rotation_groups">6.1.11. Matrix and rotation groups</h4>
<div class="sect4">
<h5 id="_so3">SO(3)</h5>
<div class="paragraph">
<p>Another non-abelian (not-commutative) multiplicative group.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/dim3/Rotation.java"><code>Rotation</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/dim3/RotationGroup.java"><code>RotationGroup</code></a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_strings">6.1.12. Strings</h4>
<div class="paragraph">
<p>Actually, one of the simplest algebraic object you can think of are the strings. They form an additive monoid, an algebraic structure with only one operation (addition).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>element <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/strings/StringElement.java"><code>StringElement</code></a></p>
</li>
<li>
<p>structure <a href="https://github.com/mihxil/math/blob/main/mihxil-algebra/src/main/java/org/meeuw/math/abstractalgebra/strings/StringMonoid.java"><code>StringMonoid</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Their cardinality is only ℵ<sub>0</sub>, so <code>StringMonoid</code> also contains an implementation to stream all possible strings.</p>
</div>
</div>
<div class="sect3">
<h4 id="_vector_spaces">6.1.13. Vector spaces</h4>
<div class="paragraph">
<p><a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/VectorSpace.java">Vector spaces</a>, which manage <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/Vector.java"><code>vectors</code></a>, are basically fixed sized sets of  <a href="https://github.com/mihxil/math/blob/main/mihxil-math/src/main/java/org/meeuw/math/abstractalgebra/ScalarFieldElement.java"><code>scalars</code></a>, but combine that with several vector operations like cross and inner products.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="shapes">7. Shapes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/search?q=g:%22org.meeuw.math%22"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-shapes.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.math/mihxil-shapes"><img src="https://www.javadoc.io/badge/org.meeuw.math/mihxil-shapes.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p>The <code>shapes</code> modules contains implementations for several 2 and 3-dimensional shapes, like circles, spheres, and polygons.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.meeuw.configuration.ConfigurationService</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.integers.ModuloFieldElement</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.reals.RealNumber</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.shapes.dim2</span>.*;
<span class="keyword">import</span> <span class="include">org.meeuw.math.svg.SVG</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.svg.SVGDocument</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.text.configuration.NumberConfiguration</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.text.configuration.UncertaintyConfiguration</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.math.abstractalgebra.reals.RealField.element</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.math.svg.SVGDocument.defaultSVG</span>;


....


<span class="annotation">@ParameterizedTest</span>
<span class="annotation">@ValueSource</span>(ints = {<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>, <span class="integer">6</span>, <span class="integer">7</span>, <span class="integer">8</span>, <span class="integer">9</span>, <span class="integer">10</span>, <span class="integer">11</span>, <span class="integer">12</span>, <span class="integer">13</span>, <span class="integer">14</span>, <span class="integer">15</span>, <span class="integer">16</span>, <span class="integer">17</span>, <span class="integer">18</span>, <span class="integer">19</span>, <span class="integer">20</span>})
<span class="directive">public</span> <span class="type">void</span> regularPolygons(<span class="type">int</span> n ) <span class="directive">throws</span> <span class="exception">Exception</span> {

    RegularPolygon&lt;RealNumber&gt; polygon = RegularPolygon.withCircumScribedRadius(n, element(<span class="float">100.0</span>));

    SVGDocument document = defaultSVG()
        .withSize(size)
        .addGrid(b -&gt; b.spacing(spacing))
        .addInfo()
        .addRegularPolygon(polygon, s -&gt; s
            .circumscribedCircle(<span class="predefined-constant">true</span>)
            .circumscribedRectangle(<span class="predefined-constant">true</span>)
            .inscribedCircle(<span class="predefined-constant">true</span>)
        )
        ;

    <span class="keyword">try</span> (<span class="predefined-type">FileOutputStream</span> fos = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="keyword">new</span> <span class="predefined-type">File</span>(dest,  n +<span class="string"><span class="delimiter">&quot;</span><span class="content">-gon.svg</span><span class="delimiter">&quot;</span></span>))) {
        SVG.marshal(document, <span class="keyword">new</span> <span class="predefined-type">StreamResult</span>(fos));
    }
}

<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> rotatedPolygon() <span class="directive">throws</span> <span class="exception">Exception</span> {
    <span class="keyword">try</span> (<span class="predefined-type">FileOutputStream</span> fos = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="keyword">new</span> <span class="predefined-type">File</span>(dest,   <span class="string"><span class="delimiter">&quot;</span><span class="content">rotated-3-gon.svg</span><span class="delimiter">&quot;</span></span>))) {
        SVG.marshal(defaultSVG()
            .withSize(size)
            .addGrid(b -&gt; b.spacing(spacing))
            .addInfo()
            .addRegularPolygon(
                RegularPolygon.withCircumScribedRadius(<span class="integer">3</span>, element(size.width().doubleValue() / <span class="integer">2</span>)).rotate(element(<span class="predefined-type">Math</span>.toRadians(<span class="float">10.0</span>))),
                s -&gt; s
                    .circumscribedCircle(<span class="predefined-constant">true</span>)
                    .circumscribedRectangle(<span class="predefined-constant">true</span>)
                    .inscribedCircle(<span class="predefined-constant">true</span>)
            ), <span class="keyword">new</span> <span class="predefined-type">StreamResult</span>(fos));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="./shapes/3-gon.svg"><img src="./shapes/3-gon.svg" alt="3 gon" width="200" title="triangle"></a></span>
<span class="image"><a class="image" href="./shapes/rotated-3-gon.svg"><img src="./shapes/rotated-3-gon.svg" alt="rotated 3 gon" width="200" title="triangle"></a></span>
<span class="image"><a class="image" href="./shapes/4-gon.svg"><img src="./shapes/4-gon.svg" alt="4 gon" width="200" title="square"></a></span>
<span class="image"><a class="image" href="./shapes/5-gon.svg"><img src="./shapes/5-gon.svg" alt="5 gon" width="200" title="pentagon"></a></span>
<span class="image"><a class="image" href="./shapes/6-gon.svg"><img src="./shapes/6-gon.svg" alt="6 gon" width="200" title="hexagon"></a></span>
<span class="image"><a class="image" href="./shapes/7-gon.svg"><img src="./shapes/7-gon.svg" alt="7 gon" width="200" title="heptagon"></a></span>
<span class="image"><a class="image" href="./shapes/8-gon.svg"><img src="./shapes/8-gon.svg" alt="8 gon" width="200" title="octagon"></a></span>
<span class="image"><a class="image" href="./shapes/9-gon.svg"><img src="./shapes/9-gon.svg" alt="9 gon" width="200" title="nonagon"></a></span>
<span class="image"><a class="image" href="./shapes/10-gon.svg"><img src="./shapes/10-gon.svg" alt="10 gon" width="200" title="decagon"></a></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> rectangle() <span class="directive">throws</span> <span class="exception">Exception</span> {
    <span class="predefined-type">Rectangle</span>&lt;RealNumber&gt; rectangle = <span class="keyword">new</span> <span class="predefined-type">Rectangle</span>&lt;&gt;(element(<span class="float">100.0</span>), element(<span class="float">170.0</span>)).rotate(element(<span class="predefined-type">Math</span>.toRadians(<span class="float">10.0</span>)));

    SVGDocument svg = defaultSVG()
        .withSize(size)
        .addGrid(b -&gt; b.spacing( spacing))
        .addInfo()
        .addPolygon(rectangle, s -&gt; {
            s.circumscribedCircle(<span class="predefined-constant">true</span>);
            s.circumscribedRectangle(<span class="predefined-constant">true</span>);

        });
    <span class="keyword">try</span> (<span class="predefined-type">FileOutputStream</span> fos = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="keyword">new</span> <span class="predefined-type">File</span>(dest,  <span class="string"><span class="delimiter">&quot;</span><span class="content">rectangle.svg</span><span class="delimiter">&quot;</span></span>))) {
        SVG.marshal(svg.buildDocument(), <span class="keyword">new</span> <span class="predefined-type">StreamResult</span>(fos));
    }
}

<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> circle() <span class="directive">throws</span> <span class="exception">Exception</span> {
    <span class="keyword">try</span> (<span class="predefined-type">FileOutputStream</span> fos = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="keyword">new</span> <span class="predefined-type">File</span>(dest,  <span class="string"><span class="delimiter">&quot;</span><span class="content">circle.svg</span><span class="delimiter">&quot;</span></span>))) {
        SVG.marshal(defaultSVG()
            .withSize(size)
            .addGrid(b -&gt; b.spacing(spacing))
            .addInfo()
            .addCircle(<span class="keyword">new</span> Circle&lt;&gt;(element(<span class="float">100.0</span>)), s -&gt; s
                .circumscribedRectangle(<span class="predefined-constant">true</span>)
                .circumscribedRectangleAttributes(e -&gt; {
                    e.setAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">stroke</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">red</span><span class="delimiter">&quot;</span></span>);
                    }
                )
            )
            .buildDocument(),
            <span class="keyword">new</span> <span class="predefined-type">StreamResult</span>(fos)
        );
    }
}

<span class="annotation">@Test</span>
<span class="directive">public</span> <span class="type">void</span> ellipse() <span class="directive">throws</span> <span class="exception">Exception</span> {
    Ellipse&lt;RealNumber&gt; ellipse = <span class="keyword">new</span> Ellipse&lt;&gt;(element(<span class="float">100.0</span>), element(<span class="float">80.0</span>), element(<span class="predefined-type">Math</span>.toRadians(<span class="float">45.0</span>)));

    SVGDocument document = defaultSVG()
        .withSize(size)
        .addGrid(b -&gt; b.spacing(spacing))
        .addInfo()
        .addEllipse(ellipse, s -&gt; s
            .circumscribedCircle(<span class="predefined-constant">true</span>)
            .circumscribedRectangle(<span class="predefined-constant">true</span>)
        );
    <span class="keyword">try</span> (<span class="predefined-type">FileOutputStream</span> fos = <span class="keyword">new</span> <span class="predefined-type">FileOutputStream</span>(<span class="keyword">new</span> <span class="predefined-type">File</span>(dest,  <span class="string"><span class="delimiter">&quot;</span><span class="content">ellipse.svg</span><span class="delimiter">&quot;</span></span>))) {
      SVG.marshal(document.buildDocument(), <span class="keyword">new</span> <span class="predefined-type">StreamResult</span>(fos));
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="./shapes/rectangle.svg"><img src="./shapes/rectangle.svg" alt="rectangle" width="200" title="rectangle"></a></span>
<span class="image"><a class="image" href="./shapes/circle.svg"><img src="./shapes/circle.svg" alt="circle" width="200" title="circle"></a></span>
<span class="image"><a class="image" href="./shapes/ellipse.svg"><img src="./shapes/ellipse.svg" alt="ellipse" width="200" title="ellipse"></a></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="theories">8. Theory testing</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/artifact/org.meeuw.math/mihxil-theories"><img src="https://img.shields.io/maven-central/v/org.meeuw.math/mihxil-theories.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.math/mihxil-theories"><img src="https://www.javadoc.io/badge/org.meeuw.math/mihxil-theories.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">NOTE</dt>
<dd>
<p>Package structure was changed in <code>0.12.0</code>.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For testing the structures and object of <a href="https://github.com/mihxil/math/">mihxil-math</a>, this provides 'property-based' testing, based on <a href="https://jqwik.net/">jqwik</a>.</p>
</div>
<div class="paragraph">
<p>This is provided as a set of interfaces named <code>&#8230;&#8203;Theory</code>. Tests can implement these interfaces, and all contracts are tested. This normally requires the tests to implement a set of datapoints ore 'elements'.</p>
</div>
<div class="sect2">
<h3 id="_non_math_related_theories">8.1. Non math related theories</h3>
<div class="paragraph">
<p>See <a href="https://github.com/mihxil/math/blob/main/mihxil-theories/src/main/java/org/meeuw/theories"><code>org.meeuw.theories</code></a> for theories not directly related to mathematical structures, but merely to java contracting like e.g.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">class</th>
<th class="tableblock halign-left valign-top">goal</th>
<th class="tableblock halign-left valign-top">(example) methods</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-theories/src/main/java/org/meeuw/theories/BasicObjectTheory.java">BasicObjectTheory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tests basic properties of any java object, mainly consistency of <code>equals</code> and <code>hashCode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>equalsIsReflexive</code>
  <code>equalsIsSymmetric</code>
  <code>equalsIsTransitive</code>
  <code>equalsIsConsistent</code>
  <code>equalsReturnFalseOnNull</code>
  <code>hashCodeIsSelfConsistent</code>
  <code>hashCodeIsConsistentWithEquals</code>
  <code>toString</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-theories/src/main/java/org/meeuw/theories/ComparableTheory.java">ComparableTheory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If an object is also <code>Comparable</code> then consistency of <code>compareTo</code> can be tested</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>equalsConsistentWithComparable</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/mihxil/math/blob/main/mihxil-theories/src/main/java/org/meeuw/theories/CharSequenceTheory.java">CharSequenceTheory</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The <code>CharSequence</code> interface also has a few methods that can be tested generically</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>charAtIsConsistentWithToStringCharAt</code>
  <code>subSequenceIsConsistent</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration_service">9. ConfigurationService</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><a class="image" href="https://search.maven.org/artifact/org.meeuw.configuration/mihxil-configuration"><img src="https://img.shields.io/maven-central/v/org.meeuw.configuration/mihxil-configuration.svg" alt="Maven Central"></a></span>
<span class="image"><a class="image" href="https://www.javadoc.io/doc/org.meeuw.configuration/mihxil-configuration"><img src="https://www.javadoc.io/badge/org.meeuw.configuration/mihxil-configuration.svg?color=blue" alt="javadoc"></a></span></p>
</div>
<div class="paragraph">
<p><code>ConfigurationService</code> is responsible for managing the <code>Configuration</code> thread locals.</p>
</div>
<div class="paragraph">
<p>Like this it can be consulted</p>
</div>
<div class="listingblock">
<div class="title">Accessing configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.meeuw.configuration.Configuration</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.configuration.ConfigurationService</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.text.configuration.NumberConfiguration</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.text.configuration.UncertaintyConfiguration</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.configuration.ConfigurationService</span>.*;
...

Configuration configuration = getConfiguration();
NumberConfiguration aspect = configuration.getAspect(NumberConfiguration.class);
<span class="type">int</span> minimalExponent = aspect.getMinimalExponent();</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would however probably mainly be used in <em>implementations</em>.</p>
</div>
<div class="paragraph">
<p>Actual configuration can be done in two basically distinct ways.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a new configuration object can be set as a thread local</p>
</li>
<li>
<p>global default configuration object can be set</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">temporary overrides</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">{
    <span class="comment">//noinspection resource</span>
    setConfiguration(builder -&gt;
        builder.configure(NumberConfiguration.class,
            (numberConfiguration) -&gt; numberConfiguration.withMinimalExponent(<span class="integer">8</span>)
        )
    );

    <span class="comment">//...code...</span>
    ConfigurationService.resetToDefaults();
}

<span class="comment">// or using Autocloseable</span>
<span class="keyword">try</span> (Reset ignored = setConfiguration(builder -&gt;
    builder.configure(NumberConfiguration.class,
        (numberConfiguration) -&gt; numberConfiguration.withMinimalExponent(<span class="integer">8</span>)
    )
)) {
    ;
    <span class="comment">//...code...</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are some utilities in <code>ConfigurationService</code> that makes this process a bit easier.</p>
</div>
<div class="listingblock">
<div class="title">temporary overrides utilities</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">withConfiguration((con) -&gt;
        con.configure(UncertaintyConfiguration.class,
                (uncertaintyConfiguration) -&gt; uncertaintyConfiguration.withNotation(UncertaintyConfiguration.Notation.PARENTHESES))
            .configure(NumberConfiguration.class,
                (numberConfiguration) -&gt; numberConfiguration.withMinimalExponent(<span class="integer">3</span>))
    , () -&gt; {
        <span class="comment">// code</span>

    });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Global defaults can be set similarly</p>
</div>
<div class="listingblock">
<div class="title">setting global defaults</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">defaultConfiguration((configurationBuilder) -&gt;
    configurationBuilder.configure(NumberConfiguration.class, c -&gt; c.withMinimalExponent(<span class="integer">4</span>))
        .configure(UncertaintyConfiguration.class, c -&gt; c.withNotation(UncertaintyConfiguration.Notation.PLUS_MINUS))
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>ConfigurationService itself is not actually math related, and is released in a separate artifact.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="demo_section">10. Demo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These are a running <a href="https://webassembly.org/">webassembly</a> demos (using <a href="https://cheerpj.com/docs/getting-started/Java-library">cheerpj</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This section is work in progress</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2 tips-aside">
<h3 id="demo_calculator">10.1. Calculator</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div id="calculator_operators" class="dlist">
<dl>
<dt class="hdlist1">+</dt>
<dd>
<p>for addition</p>
</dd>
<dt class="hdlist1">-</dt>
<dd>
<p>for subtraction</p>
</dd>
<dt class="hdlist1">⋅</dt>
<dd>
<p>for multiplication</p>
</dd>
<dt class="hdlist1">/</dt>
<dd>
<p>for division</p>
</dd>
<dt class="hdlist1">\</dt>
<dd>
<p>for euclidean division</p>
</dd>
<dt class="hdlist1">%</dt>
<dd>
<p>for modulo division</p>
</dd>
<dt class="hdlist1">*</dt>
<dd>
<p>for the default 'group operation'</p>
</dd>
<dt class="hdlist1">^</dt>
<dd>
<p>for exponentiation</p>
</dd>
</dl>
</div>
<div id="calculator_unary_operator" class="dlist">
<dl>
<dt class="hdlist1">-</dt>
<dd>
<p>negation</p>
</dd>
</dl>
</div>
<div id="calculator_special" class="dlist">
<dl>
<dt class="hdlist1">( )</dt>
<dd>
<p>brackets</p>
</dd>
<dt class="hdlist1">""</dt>
<dd>
<p>quotes</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<form id="calculator" class="demo">
  <label for="calculator_toparse">Expression to evaluate: <span class="help"></span></label> <input type="text" id="calculator_toparse"  list="calculator_toparse-examples" value="" />
   <datalist id="calculator_toparse-examples">
   <!-- filled by calculator.js -->
   </datalist>
   <label for="calculator_field">Field:</label>
   <select id="calculator_field"  >
   <!-- filled by calculator.js -->
   </select>
   <div class="help"></div>
   <br />
  <output id="calculator_output" for="calculator_toparse"> </output>
  <br />
  <button name="submit">go!</button>
</form>
<details>
<summary class="title">java</summary>
<div class="content">
<div class="paragraph">
<p>This is the source code for the above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Getter</span>
<span class="directive">public</span>  <span class="type">enum</span> FieldInformation {
    rational(RationalNumbers.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>),
    real(RealField.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sin(𝜋/2)</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sqr(𝜑) - 𝜑</span><span class="delimiter">&quot;</span></span>),
    bigdecimal(BigDecimalField.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sin(𝜋/2)</span><span class="delimiter">&quot;</span></span>),
    gaussian(GaussianRationals.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="char">\&quot;</span><span class="content">1 + 2i</span><span class="char">\&quot;</span><span class="content"> ⋅ 8i</span><span class="delimiter">&quot;</span></span>),
    complex(ComplexNumbers.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sin(𝜋/2)</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">exp(-i ⋅ 𝜋)</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="char">\&quot;</span><span class="content">2 + 3i</span><span class="char">\&quot;</span><span class="content"> ⋅ i</span><span class="delimiter">&quot;</span></span>),
    bigcomplex(BigComplexNumbers.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="char">\&quot;</span><span class="content">1 + 2i</span><span class="char">\&quot;</span><span class="content"> ⋅ 8i</span><span class="delimiter">&quot;</span></span>),
    quaternions(Quaternions.of(RationalNumbers.INSTANCE),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="char">\&quot;</span><span class="content">1 + 2i + 3j + 4k</span><span class="char">\&quot;</span><span class="content"> ⋅ 8i</span><span class="delimiter">&quot;</span></span>),
    quaternions_bigdecimal(Quaternions.of(BigDecimalField.INSTANCE),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1 + 3/5</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="char">\&quot;</span><span class="content">1 + 2i + 3j + 4k</span><span class="char">\&quot;</span><span class="content"> ⋅ 8i</span><span class="delimiter">&quot;</span></span>),
    integers(Integers.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">4 ⋅ 7</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">9 - 3</span><span class="delimiter">&quot;</span></span>),
    modulo10(ModuloRing.of(<span class="integer">10</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">4 ⋅ 7</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">9 - 3</span><span class="delimiter">&quot;</span></span>),
    modulo13(ModuloField.of(<span class="integer">13</span>), <span class="string"><span class="delimiter">&quot;</span><span class="content">10 ⋅ 7</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">10 - 3</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">12 ⋅ 6 / 4</span><span class="delimiter">&quot;</span></span>),
    natural(NaturalNumbers.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">10 ⋅ 7</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">10 - 3</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">12 ⋅ 6 / 4</span><span class="delimiter">&quot;</span></span>),
    even(EvenIntegers.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">10 ⋅ 8</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">10 - 4</span><span class="delimiter">&quot;</span></span>),
    squares(Squares.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">2 ⋅ 9</span><span class="delimiter">&quot;</span></span>),

    klein(KleinGroup.INSTANCE,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">a * b * c * e</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">a * b</span><span class="delimiter">&quot;</span></span>
    ),
    quaterniongroup(QuaternionGroup.INSTANCE, <span class="string"><span class="delimiter">&quot;</span><span class="content">i</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">e</span><span class="delimiter">&quot;</span></span> ),
    dihedral3(DihedralGroup.D3,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">r1 * r2</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">s0 * r1 * s0</span><span class="delimiter">&quot;</span></span>
    ),
    dihedral4(DihedralGroup.of(<span class="integer">4</span>),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">r1 * r2</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">s0 * r1 * s0 * s3</span><span class="delimiter">&quot;</span></span>
    )
    ;

    <span class="directive">private</span> <span class="directive">final</span> Magma&lt;?&gt; field;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> examples;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> elements;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> binaryOperators;
    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span><span class="type">[]</span> unaryOperators;

    <span class="directive">private</span> <span class="directive">final</span> <span class="type">boolean</span> finite;

    FieldInformation(Magma&lt;?&gt; field, <span class="predefined-type">String</span>... examples) {
        <span class="local-variable">this</span>.field = field;
        <span class="local-variable">this</span>.finite = field.isFinite();
        <span class="local-variable">this</span>.examples = examples;
        <span class="local-variable">this</span>.elements = elements(field);
        <span class="local-variable">this</span>.binaryOperators = field.getSupportedOperators()
            .stream()
            .map(AlgebraicBinaryOperator::getSymbol)
            .toArray(<span class="predefined-type">String</span><span class="type">[]</span>::<span class="keyword">new</span>);

        <span class="local-variable">this</span>.unaryOperators = field.getSupportedUnaryOperators()
            .stream()
            .map(AlgebraicUnaryOperator::getSymbol)
            .toArray(<span class="predefined-type">String</span><span class="type">[]</span>::<span class="keyword">new</span>);

        log.fine(<span class="string"><span class="delimiter">&quot;</span><span class="content">Created %s, operators: %s, unary: %s examples: %s, elements: %s</span><span class="delimiter">&quot;</span></span>.formatted(field,
            <span class="predefined-type">List</span>.of(binaryOperators),
            <span class="predefined-type">List</span>.of(unaryOperators),
            <span class="predefined-type">List</span>.of(examples), <span class="predefined-type">List</span>.of(elements)));
    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span><span class="type">[]</span> elements(Magma&lt;?&gt; field) {
        <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; elements = <span class="keyword">new</span> <span class="predefined-type">LinkedHashSet</span>&lt;&gt;(field.getConstants().keySet());
        <span class="keyword">if</span> (field.getCardinality().isCountable() &amp;&amp; field <span class="keyword">instanceof</span>  Streamable&lt;?&gt; streamable) {
            streamable.stream().limit(<span class="integer">100</span>).map(<span class="predefined-type">Object</span>::toString).forEach(elements::add);
        }
        <span class="keyword">return</span> elements.toArray(<span class="keyword">new</span> <span class="predefined-type">String</span>[<span class="integer">0</span>]);
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getDescription() {
        <span class="keyword">return</span> field.getClass().getSimpleName() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + field;
    }

    <span class="directive">public</span> <span class="predefined-type">String</span> getHelp() {
        <span class="keyword">return</span> field.getDescription().orElse(<span class="predefined-constant">null</span>);
    }
}



<span class="directive">public</span> <span class="directive">static</span> <span class="predefined-type">String</span> eval(<span class="directive">final</span> <span class="predefined-type">String</span> expression, <span class="directive">final</span> <span class="predefined-type">String</span> field) {
    <span class="keyword">try</span> (<span class="type">var</span> r = ConfigurationService.setConfiguration(cb -&gt; cb
        .configure(UncertaintyConfiguration.class,
            (ub) -&gt; ub.withNotation(ROUND_VALUE))
        .configure(MathContextConfiguration.class,
            (mc) -&gt; mc.withContext(<span class="keyword">new</span> <span class="predefined-type">MathContext</span>(Utils.PI.length())))
    )) {
        <span class="type">var</span> f = FieldInformation.valueOf(field).getField();

        log.fine(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Evaluating expression in %s: %s. Binary: %s, Unary: %s</span><span class="delimiter">&quot;</span></span>.formatted(f, expression, f.getSupportedOperators(), f.getSupportedUnaryOperators()));
        <span class="keyword">if</span> (f.getSupportedOperators().isEmpty()) {
            log.log(<span class="predefined-type">Level</span>.SEVERE,  <span class="string"><span class="delimiter">&quot;</span><span class="content">Supported operators is empty for </span><span class="delimiter">&quot;</span></span> + f);
        }
        <span class="type">var</span> parsedExpression = AST.parse(expression, f);
        log.fine(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Parsed expression: %s</span><span class="delimiter">&quot;</span></span>.formatted( parsedExpression));
        <span class="type">var</span> result = parsedExpression.eval();
        <span class="type">var</span> resultAsString = result.toString();
        log.info(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Result: %s = %s</span><span class="delimiter">&quot;</span></span>.formatted(expression, resultAsString));
        <span class="keyword">return</span> resultAsString;
    } <span class="keyword">catch</span> (<span class="predefined-type">Throwable</span> ex) {
        log.log(<span class="predefined-type">Level</span>.SEVERE,  ex.getClass() + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + ex.getMessage(), ex);
        <span class="keyword">throw</span> ex;
    } <span class="keyword">finally</span> {
        log.finer(<span class="string"><span class="delimiter">&quot;</span><span class="content">Ready evaluation</span><span class="delimiter">&quot;</span></span>);
    }
}</code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title">javascript</summary>
<div class="content">
<div class="paragraph">
<p>This is the source code for the above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">    constructor() {
        <span class="reserved">super</span>(<span class="string"><span class="delimiter">'</span><span class="content">#calculator</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">org.meeuw.math.demo.Calculator</span><span class="delimiter">'</span></span>);
        <span class="local-variable">this</span>.input = <span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">input</span><span class="delimiter">'</span></span>);
        <span class="local-variable">this</span>.field = <span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">select</span><span class="delimiter">'</span></span>);
        <span class="local-variable">this</span>.inputDataList= <span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">'</span><span class="content">datalist</span><span class="delimiter">'</span></span>);
        <span class="local-variable">this</span>.information = <span class="predefined-constant">null</span>;
    }

    insert(string) {
        const input = <span class="local-variable">this</span>.input;
        const start = input.selectionStart;
        const end = input.selectionEnd;
        const value = input.value;
        input.value = value.slice(<span class="integer">0</span>, start) + string + value.slice(end);
        input.setSelectionRange(start + string.length, start + string.length);
        input.focus();
    }

    async setupForm() {
        await <span class="reserved">super</span>.setupForm();
        <span class="local-variable">this</span>.form.addEventListener(<span class="string"><span class="delimiter">'</span><span class="content">beforeinput</span><span class="delimiter">'</span></span>, async (e) =&gt; {
            <span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">span.help</span><span class="delimiter">&quot;</span></span>).innerHTML = <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>;
            <span class="keyword">if</span> (e.data === <span class="string"><span class="delimiter">'</span><span class="content">=</span><span class="delimiter">'</span></span>) {
                console.log(<span class="local-variable">this</span>.input.value);
                e.preventDefault();
                e.stopImmediatePropagation();
                await <span class="local-variable">this</span>.handleSubmit();
            }
             <span class="keyword">if</span> (e.data === <span class="string"><span class="delimiter">'</span><span class="content">*</span><span class="delimiter">'</span></span>) {
                 <span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">span.help</span><span class="delimiter">&quot;</span></span>).innerHTML = <span class="string"><span class="delimiter">&quot;</span><span class="content">to type * use ;</span><span class="delimiter">&quot;</span></span>;
                 e.preventDefault();
                 e.stopImmediatePropagation();
                 <span class="local-variable">this</span>.insert(<span class="string"><span class="delimiter">'</span><span class="content">⋅</span><span class="delimiter">'</span></span>)
             }
            <span class="keyword">if</span> (e.data === <span class="string"><span class="delimiter">'</span><span class="content">;</span><span class="delimiter">'</span></span>) {
                 e.preventDefault();
                 e.stopImmediatePropagation();
                 <span class="local-variable">this</span>.insert(<span class="string"><span class="delimiter">'</span><span class="content">*</span><span class="delimiter">'</span></span>)
             }
        });
    }

    async onInView(Calculator){

        await <span class="reserved">super</span>.onInView(Calculator);
        <span class="comment">// using the field information to update the example per field</span>
        <span class="keyword">if</span> (<span class="local-variable">this</span>.information === <span class="predefined-constant">null</span>) {
            <span class="local-variable">this</span>.information = {};
            const fi = await (await BaseClass.cj)[<span class="string"><span class="delimiter">'</span><span class="content">org.meeuw.math.demo.Calculator$FieldInformation</span><span class="delimiter">'</span></span>];
            const values = await fi.values();

            <span class="keyword">for</span> (let i = <span class="integer">0</span>; i &lt; values.length; i++) {
                const value = await values[i];
                const elements = await value.getElements();
                let awaitedElements = <span class="predefined-constant">null</span>;
                <span class="keyword">if</span> (elements) {
                    awaitedElements = [];
                    <span class="keyword">for</span> (let j = <span class="integer">0</span>; j &lt; elements.length; j++) {
                        const span = document.createElement(<span class="string"><span class="delimiter">'</span><span class="content">span</span><span class="delimiter">'</span></span>);
                        span.classList.add(<span class="string"><span class="delimiter">'</span><span class="content">element</span><span class="delimiter">'</span></span>);
                        span.textContent = await elements[j];
                        span.onclick = async e =&gt; {
                            <span class="local-variable">this</span>.insert(e.target.textContent);
                        };
                        awaitedElements[j] = span;
                    }
                }
                <span class="local-variable">this</span>.information[await values[i].name()] = {
                    <span class="key">examples</span>: await BaseClass.awaitedArray(value.getExamples()),
                    <span class="key">elements</span>: awaitedElements,
                    <span class="key">binaryOperators</span>: await BaseClass.awaitedArray(value.getBinaryOperators()),
                    <span class="key">unaryOperators</span>: await BaseClass.awaitedArray(value.getUnaryOperators()),
                    <span class="key">finite</span>: await value.isFinite(),
                    <span class="key">description</span>: await value.getDescription(),
                    <span class="key">help</span>: await value.getHelp()
                };
            }
            console.log(JSON.stringify(<span class="local-variable">this</span>.information));
        }
        await <span class="local-variable">this</span>.updateFieldList();
        <span class="local-variable">this</span>.field.addEventListener(<span class="string"><span class="delimiter">'</span><span class="content">change</span><span class="delimiter">'</span></span>, () =&gt; {
            <span class="local-variable">this</span>.updateDataList();
            <span class="local-variable">this</span>.updateHelp();
            <span class="local-variable">this</span>.updateOperators();

        });
        await <span class="local-variable">this</span>.updateDataList();
        await <span class="local-variable">this</span>.updateHelp();
        await <span class="local-variable">this</span>.updateOperators();


    }

    updateFieldList() {
        <span class="keyword">for</span> (const [key, value] of Object.entries(<span class="local-variable">this</span>.information)) {

            const option = document.createElement(<span class="string"><span class="delimiter">'</span><span class="content">option</span><span class="delimiter">'</span></span>);
            option.value = key;
            option.text = value.description;
            <span class="local-variable">this</span>.field.appendChild(option);
        }
    }

    async updateDataList() {
        const selectedField = <span class="local-variable">this</span>.field.value;
        const information = <span class="local-variable">this</span>.information[selectedField];
        <span class="keyword">if</span> (information) {
            <span class="local-variable">this</span>.inputDataList.innerHTML = <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>;
            <span class="keyword">for</span> (const example of information.examples) {
                const option = document.createElement(<span class="string"><span class="delimiter">'</span><span class="content">option</span><span class="delimiter">'</span></span>);
                option.value = example;
                <span class="local-variable">this</span>.inputDataList.appendChild(option);
            }
            console.log(<span class="string"><span class="delimiter">&quot;</span><span class="content">Updated data list for</span><span class="delimiter">&quot;</span></span>, selectedField, information.examples);
        }
    }
    async updateHelp() {
        const fieldInformation =  <span class="local-variable">this</span>.information[<span class="local-variable">this</span>.field.value];
        const div = <span class="local-variable">this</span>.field.parentNode.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">div.help</span><span class="delimiter">&quot;</span></span>);
        div.innerHTML = <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>;
        let help = fieldInformation.help;
        <span class="keyword">if</span> (help) {
            div.appendChild(document.createTextNode(help));
        }
        const elements = <span class="local-variable">this</span>.information[<span class="local-variable">this</span>.field.value].elements;
        <span class="keyword">if</span> (elements) {
            div.appendChild(document.createElement(<span class="string"><span class="delimiter">&quot;</span><span class="content">br</span><span class="delimiter">&quot;</span></span>));
            div.appendChild(document.createTextNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">elements: </span><span class="delimiter">&quot;</span></span>));
            elements.forEach(element =&gt; {
                div.appendChild(element);
            })
            <span class="keyword">if</span> (!fieldInformation.finite) {
                div.appendChild(document.createTextNode(<span class="string"><span class="delimiter">&quot;</span><span class="content">... infinitely many more</span><span class="delimiter">&quot;</span></span>));
            }
        }
    }
    operatorDts(dl, operators) {
        const list = dl.querySelectorAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">dt</span><span class="delimiter">&quot;</span></span>);
        const symbolsInList = Array.from(list).map(e =&gt; e.textContent.trim());
        const unmatchedOperators = operators.filter(op =&gt; !symbolsInList.includes(op));
        unmatchedOperators.forEach(op =&gt; {
            const dt = document.createElement(<span class="string"><span class="delimiter">&quot;</span><span class="content">dt</span><span class="delimiter">&quot;</span></span>);
            dt.classList.add(<span class="string"><span class="delimiter">'</span><span class="content">hdlist1</span><span class="delimiter">'</span></span>);
            dt.textContent = op;
            dl.appendChild(dt);
            const dd = document.createElement(<span class="string"><span class="delimiter">&quot;</span><span class="content">dd</span><span class="delimiter">&quot;</span></span>);
            dl.appendChild(dd);
        });
        <span class="keyword">for</span> (const e of dl.querySelectorAll(<span class="string"><span class="delimiter">&quot;</span><span class="content">dt</span><span class="delimiter">&quot;</span></span>)) {
            const symbol = e.textContent.trim();
            const title = e.nextElementSibling.textContent;
            <span class="keyword">if</span> (!e.hasAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">original-display</span><span class="delimiter">&quot;</span></span>)) {
                e.setAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">original-display</span><span class="delimiter">&quot;</span></span>, window.getComputedStyle(e).display);
                e.onclick = async e =&gt; {
                    <span class="local-variable">this</span>.insert(e.target.textContent);
                };
            }
            <span class="keyword">if</span> (!operators.includes(symbol)) {
                e.style.display = <span class="string"><span class="delimiter">'</span><span class="content">none</span><span class="delimiter">'</span></span>;
                e.nextElementSibling.hidden = <span class="predefined-constant">true</span>;
            } <span class="keyword">else</span> {
                e.title = title;
                e.style.display = e.getAttribute(<span class="string"><span class="delimiter">&quot;</span><span class="content">original-display</span><span class="delimiter">&quot;</span></span>);
                e.nextElementSibling.hidden = <span class="predefined-constant">false</span>;
            }
        }
    }

    async updateOperators() {
        const fieldInformation =  <span class="local-variable">this</span>.information[<span class="local-variable">this</span>.field.value];
        const operators = fieldInformation.binaryOperators;
        <span class="local-variable">this</span>.operatorDts(document.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">#calculator_operators dl</span><span class="delimiter">&quot;</span></span>), operators);
        const unaryOperators = fieldInformation.unaryOperators;
        <span class="local-variable">this</span>.operatorDts(document.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">#calculator_unary_operator dl</span><span class="delimiter">&quot;</span></span>), unaryOperators);
    }

    async onSubmit(Calculator) {
        <span class="local-variable">this</span>.output.value = <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>;
        <span class="local-variable">this</span>.textContent = <span class="string"><span class="delimiter">&quot;</span><span class="content">executing..</span><span class="delimiter">&quot;</span></span>;
        <span class="comment">//console.log(&quot;evaluating&quot;, this.input.value, &quot;for&quot;, this.field.value);</span>
        <span class="local-variable">this</span>.output.value = await Calculator.eval(
            <span class="local-variable">this</span>.input.value, <span class="local-variable">this</span>.field.value
        );
    }

}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2 tips-aside">
<h3 id="demo_solver">10.2. Solver</h3>
<div class="paragraph">
<p>The same idea as my <a href="https://meeuw.org/flippo/flippo.html">very first applet</a>. Solving the '24 flippo game'.</p>
</div>
<div class="paragraph">
<p>Give the desired outcome number, and a few input numbers, and it will find the possible ways to get it using those input numbers.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>This combines several aspects of this project:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It uses 'rational numbers' to make all operations exact</p>
</li>
<li>
<p>It uses the permutation group to permute all combinations of values</p>
</li>
<li>
<p>It uses the Abstract Syntax Tree feature to combine values and operators</p>
</li>
<li>
<p>It uses some features of the Field, e.g. to perform operators generically.</p>
</li>
<li>
<p>It will currently use the field of <code>RationalNumbers</code> <em>or</em> <code>GaussianRationals</code> if the input contains a complex number. I might add also suport for <code>RealField</code> (and for example also support the POW operator)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cheerpj still sometimes behaves a bit erraticly, I think something may be wrong with default methods?</p>
</div>
</td>
</tr>
</table>
</div>
<form id="solver" class="demo">
  <label for="solver_outcome">Desired outcome:</label>
  <input type="text"
         required="required"
         id="solver_outcome"  list="solver_outcome-examples"
         data-parser="parseOutcome"
         data-error-message="enter one (fractional) number"
         value="24"/>
  <datalist id="solver_outcome-examples">
     <option value="24">the original 24 game value</option>
     <option value="4 1/3">fractions are allowed</option>
     <option value="41"></option>
     <option value="120">a nicer value for 5 input numbers</option>
   </datalist>
   <br />
  <label for="solver_input">Input numbers:</label>
  <input type="text" id="solver_input"
         list="solver_input-examples"
         required="required"
         placeholder="Enter a few numbers (probably no more than 5)"
          data-parser="parseInput"
          data-error-message="enter one or more (fractional) numbers"
         />
   <datalist id="solver_input-examples">
     <option value="8 8 3 3">a hard one to make 24 with</option>
     <option value="4 7 7 7 8" >a hard one to make 120 with</option>

   </datalist>
  <br />
  <output id="solver_output"  for="solver_result solver_numbers"> </output>
  <br />
  <button name="submit">go!</button>
</form>
<details>
<summary class="title">java source code</summary>
<div class="content">
<div class="paragraph">
<p>This is the source code for the above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">package</span> <span class="namespace">org.meeuw.math.demo</span>;

<span class="keyword">import</span> <span class="include">lombok.Getter</span>;
<span class="keyword">import</span> <span class="include">lombok.extern.java.Log</span>;

<span class="keyword">import</span> <span class="include">java.util</span>.*;
<span class="keyword">import</span> <span class="include">java.util.concurrent.atomic.AtomicLong</span>;
<span class="keyword">import</span> <span class="include">java.util.stream.Stream</span>;

<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.Ring</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.RingElement</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.complex.GaussianRationals</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.permutations.PermutationGroup</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.quaternions.Quaternions</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.abstractalgebra.rationalnumbers.RationalNumbers</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.arithmetic.ast</span>.*;
<span class="keyword">import</span> <span class="include">org.meeuw.math.exceptions.MathException</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.exceptions.NotParsable</span>;
<span class="keyword">import</span> <span class="include">org.meeuw.math.operators.AlgebraicBinaryOperator</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.math.CollectionUtils.navigableSet</span>;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">org.meeuw.math.operators.BasicAlgebraicBinaryOperator</span>.*;

<span class="comment">/**
 * A tool to evaluate all possible expressions (of a certain number of rational numbers) (and check if it equals a certain value)
 */</span>
<span class="annotation">@Log</span>
<span class="directive">public</span>  <span class="type">class</span> <span class="class">Solver</span>&lt;E <span class="directive">extends</span> RingElement&lt;E&gt;&gt; {
    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> NavigableSet&lt;AlgebraicBinaryOperator&gt; OPERATORS = navigableSet(
        ADDITION, SUBTRACTION, MULTIPLICATION, DIVISION
    );

    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">AtomicLong</span> tries = <span class="keyword">new</span> <span class="predefined-type">AtomicLong</span>();

    <span class="annotation">@Getter</span>
    <span class="directive">private</span> <span class="directive">final</span> Ring&lt;E&gt; structure;

    <span class="directive">public</span> Solver(Ring&lt;E&gt; structure) {
        <span class="local-variable">this</span>.structure = structure;
    }

    <span class="annotation">@SafeVarargs</span>
    <span class="directive">public</span> <span class="directive">final</span> Stream&lt;<span class="predefined-type">Expression</span>&lt;E&gt;&gt; stream(E... set) {
        PermutationGroup permutations = PermutationGroup.ofDegree(set.length);

        <span class="keyword">return</span> permutations.stream()
            .map(permutation -&gt; permutation.permute(set))
            .map(<span class="predefined-type">List</span>::of)
            .distinct()
            .flatMap(permuted -&gt;
                AST.stream(
                    permuted,
                    OPERATORS
                )
            )
            .map( e -&gt; e.canonize(structure))
            .distinct()
            .peek(e -&gt; tries.getAndIncrement());
    }



    <span class="directive">public</span> Stream&lt;EvaluatedExpression&lt;E&gt;&gt; evaledStream(E... set) {
        <span class="keyword">return</span> stream(set)
            .map(e -&gt; {
                <span class="keyword">try</span> {
                    E evaled = e.eval();
                    <span class="keyword">return</span> <span class="keyword">new</span> EvaluatedExpression&lt;&gt;(e, evaled);
                } <span class="keyword">catch</span> (MathException ex) {
                    <span class="keyword">return</span> <span class="predefined-constant">null</span>;
                }
            })
            .filter(Objects::nonNull);
    }

    <span class="comment">/**
     *
     */</span>
    <span class="directive">public</span>  <span class="directive">static</span> &lt;E <span class="directive">extends</span> RingElement&lt;E&gt;&gt; SolverResult solve(Ring&lt;E&gt; structure, <span class="predefined-type">String</span> outcomeString, <span class="predefined-type">String</span> inputStrings) {

        ParseResult&lt;E&gt; outcome = parseOutcome(structure, outcomeString);
        ParseResult&lt;E<span class="type">[]</span>&gt; input = parseInput(structure, inputStrings);
        <span class="keyword">if</span> (outcome.success() &amp;&amp; input.success()) {
            <span class="keyword">return</span> solve(structure, outcome.result(), input.result());
        } <span class="keyword">else</span> {
            <span class="keyword">throw</span> <span class="keyword">new</span> NotParsable(outcome.error() + <span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span> + input.error());
        }
    }

    <span class="directive">public</span>  <span class="directive">static</span> &lt;E <span class="directive">extends</span> RingElement&lt;E&gt;&gt; SolverResult solve(Ring&lt;E&gt; structure, E outcome, E<span class="type">[]</span> input) {

        Solver&lt;E&gt; solver = <span class="keyword">new</span> Solver&lt;&gt;(structure);
        <span class="predefined-type">AtomicLong</span> matches = <span class="keyword">new</span> <span class="predefined-type">AtomicLong</span>();
        log.info(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Solving input </span><span class="delimiter">&quot;</span></span> + <span class="predefined-type">List</span>.of(input) + <span class="string"><span class="delimiter">&quot;</span><span class="content"> for </span><span class="delimiter">&quot;</span></span> + outcome + <span class="string"><span class="delimiter">&quot;</span><span class="content"> ( in field </span><span class="delimiter">&quot;</span></span> + structure + <span class="string"><span class="delimiter">&quot;</span><span class="content">)</span><span class="delimiter">&quot;</span></span>);

        <span class="keyword">return</span> <span class="keyword">new</span> SolverResult(solver.evaledStream(input)
            .filter(e -&gt;
                e.result().eq(outcome)
            ).peek(e -&gt; matches.getAndIncrement())
            .map(EvaluatedExpression::toString),
            solver.tries, matches, structure);
    }

    <span class="directive">public</span> <span class="directive">static</span> &lt;F <span class="directive">extends</span> RingElement&lt;F&gt;&gt; ParseResult&lt;F&gt; parseOutcome(Ring&lt;F&gt; field, <span class="predefined-type">String</span> outcomeString) {
        log.info(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Parsing input </span><span class="delimiter">&quot;</span></span> + outcomeString + <span class="string"><span class="delimiter">&quot;</span><span class="content"> in field </span><span class="delimiter">&quot;</span></span> + field);

        <span class="predefined-type">String</span> resultError = <span class="predefined-constant">null</span>;
        F result;
        <span class="keyword">try</span> {
            result = field.fromString(outcomeString);
        } <span class="keyword">catch</span> (NotParsable pe) {
            result = <span class="predefined-constant">null</span>;
            resultError = pe.getMessage();
        }
        <span class="keyword">return</span> <span class="keyword">new</span> ParseResult&lt;F&gt;(outcomeString, result, resultError);
    }
    <span class="directive">public</span> <span class="directive">static</span> &lt;F <span class="directive">extends</span> RingElement&lt;F&gt;&gt; ParseResult&lt;F<span class="type">[]</span>&gt; parseInput(Ring&lt;F&gt; field, <span class="predefined-type">String</span> inputStrings) {
        log.info(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Parsing input </span><span class="delimiter">&quot;</span></span> + inputStrings + <span class="string"><span class="delimiter">&quot;</span><span class="content"> in field </span><span class="delimiter">&quot;</span></span> + field);

        <span class="predefined-type">String</span> inputError = <span class="predefined-constant">null</span>;

        <span class="predefined-type">String</span><span class="type">[]</span> input = inputStrings.split(<span class="string"><span class="delimiter">&quot;</span><span class="char">\\</span><span class="content">s+</span><span class="delimiter">&quot;</span></span>);
        F<span class="type">[]</span> set = field.newArray(input.length);
        <span class="keyword">try</span> {
            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="integer">0</span>; i &lt; set.length; i++) {
                set[i] = field.fromString(input[i]);
            }
        } <span class="keyword">catch</span> (NotParsable pe) {
            inputError = pe.getMessage();
        }
        <span class="keyword">return</span> <span class="keyword">new</span> ParseResult&lt;&gt;(inputStrings, set, inputError);
    }

    <span class="directive">public</span> <span class="directive">static</span> Ring&lt;?&gt; algebraicStructureFor(<span class="predefined-type">String</span> outcomeString, <span class="predefined-type">String</span> input) {
        log.info(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Determining algebraic structure for outcome </span><span class="delimiter">&quot;</span></span> + outcomeString + <span class="string"><span class="delimiter">&quot;</span><span class="content"> and input </span><span class="delimiter">&quot;</span></span> + input);
        <span class="keyword">if</span> (outcomeString.matches(<span class="string"><span class="delimiter">&quot;</span><span class="content">.*[jk].*</span><span class="delimiter">&quot;</span></span>) || input.matches(<span class="string"><span class="delimiter">&quot;</span><span class="content">.*[jk].*</span><span class="delimiter">&quot;</span></span>)) {
            <span class="keyword">return</span> Quaternions.of(RationalNumbers.INSTANCE);
        } <span class="keyword">else</span> <span class="keyword">if</span> (outcomeString.contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">i</span><span class="delimiter">&quot;</span></span>) || input.contains(<span class="string"><span class="delimiter">&quot;</span><span class="content">i</span><span class="delimiter">&quot;</span></span>)) {
            <span class="keyword">return</span> GaussianRationals.INSTANCE;
        } <span class="keyword">else</span> {
            <span class="keyword">return</span> RationalNumbers.INSTANCE;
        }
    }


    <span class="directive">public</span> record SolverResult(Stream&lt;<span class="predefined-type">String</span>&gt; stream, <span class="predefined-type">AtomicLong</span> tries, <span class="predefined-type">AtomicLong</span> matches, Ring&lt;?&gt; field) {


    }

    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> integers) {
        <span class="keyword">if</span> (integers.length &lt; <span class="integer">3</span>) {
            <span class="predefined-type">System</span>.out.println();
            <span class="predefined-type">System</span>.exit(<span class="integer">1</span>);
        }
        <span class="predefined-type">String</span> resultString = integers[<span class="integer">0</span>];
        <span class="predefined-type">String</span> inputStrings = <span class="predefined-type">String</span>.join(<span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">Arrays</span>.copyOfRange(integers, <span class="integer">1</span>, integers.length));

        Ring&lt;?&gt; field = algebraicStructureFor(resultString, inputStrings);
        SolverResult solverResult = Solver.solve(field, resultString, inputStrings);
        solverResult.stream().forEach(<span class="predefined-type">System</span>.out::println);
        <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">ready, found </span><span class="delimiter">&quot;</span></span> + solverResult.matches().get() + <span class="string"><span class="delimiter">&quot;</span><span class="content">, tried </span><span class="delimiter">&quot;</span></span> + solverResult.tries.get() + <span class="string"><span class="delimiter">&quot;</span><span class="content">, field </span><span class="delimiter">&quot;</span></span> + solverResult.field().toString());
    }
}</code></pre>
</div>
</div>
</div>
</details>
<details>
<summary class="title">javascript</summary>
<div class="content">
<div class="paragraph">
<p>This is the source code for the above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">    async onSubmit(Solver) {
        <span class="local-variable">this</span>.output.value += <span class="string"><span class="delimiter">&quot;</span><span class="content">using: </span><span class="delimiter">&quot;</span></span> + await (<span class="local-variable">this</span>.model.field).toString();
        const solverResult = await Solver.solve(
            <span class="local-variable">this</span>.model.field, <span class="local-variable">this</span>.outcome.value, <span class="local-variable">this</span>.input.value
            );

        const stream = await solverResult.stream();
        const lines = await stream.toArray();
        <span class="keyword">for</span> (let i = <span class="integer">0</span>; i &lt; lines.length; i++) {
            <span class="local-variable">this</span>.output.value += <span class="string"><span class="delimiter">&quot;</span><span class="char">\n</span><span class="delimiter">&quot;</span></span> + await lines[i].toString();
        }
        const tries = await (await solverResult.tries()).get();
        const matches = await (await solverResult.matches()).get();
        <span class="local-variable">this</span>.output.value += <span class="error">`</span><span class="error">\</span>nFound: <span class="predefined">$</span>{matches}<span class="error">`</span>;
        <span class="local-variable">this</span>.output.value += <span class="error">`</span><span class="error">\</span>nTried: <span class="predefined">$</span>{tries}<span class="error">`</span>;
    }
}</code></pre>
</div>
</div>
</div>
</details>
</div>
<div class="sect2">
<h3 id="demo_dynamicdate">10.3. Dynamic date parsing</h3>
<div class="paragraph">
<p>The <code>mihxil-time</code> module contain a 'dynamic date parser. I dusted this of from old <a href="mmbase.org">mmbase</a> code.</p>
</div>
<form id="dynamicdate" class="demo">
  <label for="dynamicdate_toparse">String to parse:</label> <input type="text" id="dynamicdate_toparse"  list="dynamicdate_toparse-examples" value="" />
   <datalist id="dynamicdate_toparse-examples">
    <option value="0"></option>
    <option value="10000"></option>
    <option value="-10000"></option>
    <option value="+1000"></option>
    <option value="1973-05-03"></option>
    <option value="2006-05-09"></option>
    <option value="-3-12-25"></option>
    <option value="2000-01-01 16:00"></option>
    <option value="TZUTC 2001-01-01 16:00"></option>
    <option value="today 12:34:56.789"></option>
    <option value="now"></option>
    <option value="today"></option>
    <option value="tomorrow"></option>
    <option value="now + 10 minute"></option>
    <option value="today + 5 day"></option>
    <option value="now this year"></option>
    <option value="next august"></option>
    <option value="today + 6 month next august"></option>
    <option value="tomonth"></option>
    <option value="borreltijd"></option>
    <option value="today + 5 dayish"></option>
    <option value="yesteryear"></option>
    <option value="mondayish"></option>
    <option value="duration + 5 minute"></option>
    <option value="duration + 100 year"></option>
    <option value="TZUTC today noon"></option>
    <option value="TZEurope/Amsterdam today noon"></option>
    <option value="TZUTC today"></option>
    <option value="TZEurope/Amsterdam today"></option>
    <option value="TZ UTC today noon"></option>
    <option value="TZ Europe/Amsterdam today noon"></option>
    <option value="TZ UTC today"></option>
    <option value="TZ Europe/Amsterdam today"></option>
    <option value="TZ Europe/Amsterdam -1000"></option>
    <option value="today 6 oclock"></option>
    <option value="today 23 oclock"></option>
    <option value="today 43 oclock"></option>
    <option value="tosecond"></option>
    <option value="tominute"></option>
    <option value="tohour"></option>
    <option value="today"></option>
    <option value="previous monday"></option>
    <option value="tomonth"></option>
    <option value="toyear"></option>
    <option value="tocentury"></option>
    <option value="tocentury_pedantic"></option>
    <option value="toera"></option>
    <option value="toweek"></option>
    <option value="now this second"></option>
    <option value="now this minute"></option>
    <option value="now this hour"></option>
    <option value="now this day"></option>
    <option value="today previous monday"></option>
    <option value="now this month"></option>
    <option value="now this year"></option>
    <option value="now this century"></option>
    <option value="now this era"></option>
    <option value="now - 15 year this century"></option>
    <option value="now - 20 year this century_pedantic"></option>
    <option value="today + 2 century"></option>
    <option value="toera - 1 minute"></option>
    <option value="this july"></option>
    <option value="previous july"></option>
    <option value="next july"></option>
    <option value="this sunday"></option>
    <option value="previous sunday"></option>
    <option value="next sunday"></option>
    <option value="2009-W01-01"></option>
    <option value="2009-W53-7"></option>
    <option value="2006-123"></option>
    <option value="2005-01-01 this monday"></option>
    <option value="next year"></option>
    <option value="&quot;spring&quot;"></option>
    <option value="next year &quot;spring&quot;"></option>
    <option value="&quot;easter sunday&quot;"></option>
   </datalist>
   <br />
  <output id="dynamicdate_output" for="dynamicdate_toparse"> </output>
  <br />
  <button name="submit">go!</button>
</form>
<details>
<summary class="title">javascript</summary>
<div class="content">
<div class="paragraph">
<p>This is the source code for the above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">async onSubmit(DynamicDateTime){
    <span class="keyword">try</span> {
        const parser = await <span class="keyword">new</span> DynamicDateTime();
        const parseResult = await parser.applyWithException(<span class="local-variable">this</span>.form.querySelector(<span class="string"><span class="delimiter">&quot;</span><span class="content">#dynamicdate_toparse</span><span class="delimiter">&quot;</span></span>).value);
        <span class="local-variable">this</span>.output.value = await parseResult.toString();
    } <span class="keyword">catch</span> (error) {
        console.log(error);
    }

}</code></pre>
</div>
</div>
</div>
</details>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compatibility">11. Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This project is compiled with java 17, and provides JPMS module info,  until version <code>0.16.x</code> it was compatible with java 8.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_history">12. History</h2>
<div class="sectionbody">
<div class="paragraph">
<p>I&#8217;m maintaining this mainly as a hobby project.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refactory physical units, to be agnostic about axes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">july, 2025</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduces also the 'arithmetic' package, which contains an AST implementation to represent combination of operators and elements.</p>
<p class="tableblock"> <code>mihxil-time</code> now also has support for dynamic date parsing</p>
<p class="tableblock">Set up running demo&#8217;s with <code>cheerpj</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">june, 2025</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">org.meeuw.math.time became org.meeuw.time, and a new module mihxil-time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">june, 2025</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">disband java 8 support, require at least java 17</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">june, 2025</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction of shapes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2025</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refactoring related to uncertain duration/ instants</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2024-12</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>